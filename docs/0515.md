# 哈希表在 Java 中的工作

> 原文：<https://www.javatpoint.com/working-of-hashmap-in-java>

* * *

## 什么是哈希

它是将对象转换为整数值的过程。整数值有助于索引和更快的搜索。

## 什么是 HashMap

HashMap 是 Java 集合框架的一部分。它使用一种叫做哈希的技术。它实现了映射接口。它将数据存储在键和值对中。HashMap 包含一个节点数组，节点表示为一个类。它在内部使用数组和链表数据结构来存储键和值。HashMap 中有四个字段。

![Working of HashMap in Java](../img/660403c9a8381cf92975acdfc79f35d2.png)

在了解 HashMap 的内部工作之前，必须了解 hashCode()和 equals()方法。

*   **equals():** 检查两个对象是否相等。它比较键，不管它们是否相等。它是对象类的一种方法。它可以被覆盖。如果重写 equals()方法，则必须重写 hashCode()方法。
*   **hashCode():** 这是对象类的方法。它以整数形式返回对象的内存引用。从方法接收的值用作存储桶编号。桶号是地图内元素的地址。空键的哈希代码为 0。
*   **桶:**节点的数组称为桶。每个节点都有一个类似链表的数据结构。多个节点可以共享同一个存储桶。可能容量不同。

![Working of HashMap in Java](../img/3b7f595fe7f180f62cdeca29f7a1c6b0.png)

## 在哈希表中插入键、值对

我们使用 put()方法在 HashMap 中插入键和值对。HashMap 的默认大小是 16 (0 到 15)。

### 例子

在下面的例子中，我们想在 HashMap 中插入三个(键，值)对。

```java
HashMap map = new HashMap<>();
map.put("Aman", 19);
map.put("Sunny", 29);
map.put("Ritesh", 39); 
```

让我们看看在哪个索引处，键、值对将被保存到哈希表中。当我们调用 put()方法时，它会计算密钥“Aman”的哈希代码假设“Aman”的哈希代码是 2657860。为了将密钥存储在内存中，我们必须计算索引。

### 计算指数

索引最小化数组的大小。计算指数的公式为:

```java
	Index = hashcode(Key) & (n-1)

```

其中 n 是数组的大小。因此，“阿曼”的索引值为:

```java
Index = 2657860 & (16-1) = 4

```

值 4 是计算出的索引值，键和值将存储在哈希表中。

![Working of HashMap in Java](../img/59b83cdc7061153f9e8260834c7a1312.png)

## 哈希冲突

当两个或多个键的计算索引值相同时，就是这种情况。让我们计算另一个密钥“Sunny”的哈希代码假设“Sunny”的哈希代码是 63281940。为了将密钥存储在内存中，我们必须使用索引公式来计算索引。

```java
Index=63281940 & (16-1) = 4

```

值 4 是计算出的索引值，密钥将存储在哈希映射中。在这种情况下，equals()方法检查两个键是否相等。如果键相同，用当前值替换该值。否则，通过链接列表将此节点对象连接到现有节点对象。因此，两个密钥都将存储在索引 4 中。

![Working of HashMap in Java](../img/bf7ae37cd63072190496d8605157d177.png)

同样，我们将存储密钥“Ritesh”假设密钥的哈希代码是 2349873。索引值将为 1。因此，该密钥将存储在索引 1 中。

![Working of HashMap in Java](../img/9265dc7a56cacdb0509f133f03fb9a7e.png)

## HashMap 中的 get()方法

get()方法用于通过其 Key 获取值。如果您不知道密钥，它将不会获取值。当调用 get(K Key)方法时，它会计算密钥的哈希代码。

假设我们要去取钥匙“阿曼”将调用以下方法。

```java
	map.get(new Key("Aman"));

```

它生成的哈希代码为 2657860。现在用指数公式计算指数值 2657860。正如我们在上面计算的那样，指数值将为 4。get()方法搜索索引值 4。它将第一个元素 Key 与给定的 Key 进行比较。如果两个键相等，则返回值 else，如果存在，则检查节点中的下一个元素。在我们的场景中，它被发现是节点的第一个元素，并返回值 19。

让我们去拿另一把钥匙“阳光”

密钥“Sunny”的哈希码是 63281940。63281940 的计算指数值是 4，正如我们为 put()方法计算的那样。转到数组的索引 4，将第一个元素的键与给定的键进行比较。它还比较了键。在我们的场景中，给定的键是第二个元素，节点的下一个为空。它将第二个元素 Key 与指定的 Key 进行比较，并返回值 29。如果节点的下一个为空，则返回空。

* * *