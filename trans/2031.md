# Struts 2 需要字符串验证示例

> 原文:[https://www . javatpoint . com/struts-2-required string-validation-示例](https://www.javatpoint.com/struts-2-requiredstring-validation-example)

1.  [要求环校验器](#)
2.  [所需测试验证器的参数](#)
3.  [需求测试验证器示例](#)

**要求字符串验证器**指定字符串不能为空。

默认情况下，它会修剪字符串，然后检查其长度是否大于 0。

#### requiredstring 验证器的参数

为 requiredstring 验证器定义了两个参数。

| 参数 | 描述 |
| **字段名** | 指定要验证的字段名。它仅在普通验证器中是必需的。 |
| **修剪** | 修剪字段值。默认情况下为 true 表示默认情况下启用。 |

#### requiredstring 验证器示例

```
<validators>
    <!-- Plain-Validator Syntax -->
    <validator type="requiredstring">
        <param name="fieldName">username</param>
        <param name="trim">true</param>
        <message>username is required</message>
    </validator>

</validators>

```

```
<validators>
    <!-- Field-Validator Syntax -->
    <field name="username">
    	  <field-validator type="requiredstring">
            <param name="trim">true</param>
            <message>username is required</message>
       </field-validator>
    </field>

</validators>

```

#### requiredstring 验证器的完整示例

### 1)创建用于输入的 index.jsp

这个 jsp 页面使用 struts UI 标签创建了一个表单。它接收来自用户的姓名、密码和电子邮件 id。

**index.jsp**

```
<%@ taglib uri="/struts-tags" prefix="s" %>
<html>
<head>
<STYLE type="text/css">
.errorMessage{color:red;}
</STYLE>
</head>
<body>

<s:form action="register">
<s:textfield name="username" label="Username"></s:textfield>
<s:password name="userpass" label="Password"></s:password>
<s:submit value="register"></s:submit>
</s:form>

</body>
</html>

```

### 2)创建动作类

此操作类继承了 ActionSupport 类，并重写了 execute 方法。

**RegisterAction.java**

```
package com.javatpoint;

import com.opensymphony.xwork2.ActionSupport;

public class Register extends ActionSupport{
private String username,userpass;

public String getUsername() {
	return username;
}

public void setUsername(String username) {
	this.username = username;
}

public String getUserpass() {
	return userpass;
}

public void setUserpass(String userpass) {
	this.userpass = userpass;
}

public String execute(){
	return "success";
}

}

```

### 3)创建验证文件

这里，我们使用捆绑的验证器来执行验证。

**Register-validation.xml**

```
<?xml version="1.0" encoding="UTF-8"?>

  <!DOCTYPE validators PUBLIC 
  		"-//OpenSymphony Group//XWork Validator 1.0.2//EN" 
  		"http://www.opensymphony.com/xwork/xwork-validator-1.0.2.dtd">

  		<validators>

  		<field name="username">
  		<field-validator type="requiredstring">
  		<message>Name can't be blank</message>
  		</field-validator>
  		</field>

  		</validators>

```

### 4)创建 struts.xml

这个 xml 文件通过名称输入定义了一个额外的结果，以及一个拦截器 jsonValidatorWorkflowStack。

**struts.xml**

```
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN" "http://struts.apache.org/dtds/struts-2.1.dtd">
<struts>

<package name="default" extends="struts-default">
<action name="register" class="com.javatpoint.Register">
<result name="input">index.jsp</result>
<result>welcome.jsp</result>
</action>

</package>
</struts>    

```

### 5)创建视图组件

它是显示用户信息的简单 jsp 文件。

**welcome.jsp**

```
<%@ taglib uri="/struts-tags" prefix="s" %>

Welcome,<s:property value="username"/>

```

[download this example](https://static.javatpoint.com/src/st/ajaxvalidation.zip)